<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crypto Kitty Data</title>
    <link rel="stylesheet" href="css/main.css">
    <script type="application/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
</head>
<body>
{% include "nav.html.twig" %}
<section class="hero is-primary">
    <div class="hero-body">
        <div class="container">
            <div class="columns">
                <div class="column is-8-desktop is-offset-2-desktop">
                    <h1 class="subtitle is-4">
                        We are working our dogs hard to get you data reports
                    </h1>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="section">
    <div class="container is-fullhd" id="app">
        <h1 class="has-text-weight-bold is-size-1">Search DNA</h1>

        <div class="columns">
            <div class="column">
                <div class="field">
                    <label class="label">Categories</label>
                    <div class="control">
                        <select v-model="category">
                            <option v-for="codes,category_name in categories" :value="category_name">
                                <% category_name %>
                            </option>
                        </select>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Options</label>
                    <div class="control">
                        <a class="button is-link is-small" v-on:click="appendRaw('no_fancy','true')">No Fancy</a>
                        <br />
                        <a class="button is-link is-small" v-on:click="appendRaw('onsale','true')">On Sale</a>
                    </div>
                </div>

            </div>
            <div class="column">
                <div class="field">
                    <nav class="level">
                        <div class="level-left">
                            <div class="level-item">
                                <label class="label">Fancy Table</label>
                            </div>
                        </div>

                        <div class="level-right">
                            <div class="level-item">
                                <a class="button is-link" v-on:click="toggle">Toggle</a>
                            </div>
                        </div>
                    </nav>

                    <table class="table" v-if="showFancy">
                        <thead>
                        <tr>
                            <th>Fancy</th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        </thead>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Aducat" target="_blank">Ducat</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','a')">cymric</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','p')">tongue</a></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Ashipcat" target="_blank">ShipCat</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','e')">sphynx</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','a')">luckystripe</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','7')">crazy</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','4')">orangesoda</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Adracula" target="_blank">Dracula</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','o')">laperm</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','d')">spock</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeColor','8')">strawberry</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('wild','1')">wild_1</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Amistletoe" target="_blank">Misletoe</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','j')">oldlace</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','4')">gerbil</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','7')">crazy</a></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Asantaclaws" target="_blank">SantaClaws</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','h')">cloudwhite</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('highlightColor','b')">scarlet</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','9')">beard</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('wild','d')">Wild_d</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Aphuziqaat" target="_blank">PhuZiqaat</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','b')">chartreux</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','d')">spock</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','i')">alien</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','a')">pouty</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Astitches" target="_blank">Stitches</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','f')">hintomint</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('highlightColor','9')">swampgreen</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('accentColor','q')">seafoam</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','b')">saycheese</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Anegato" target="_blank">Negato</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','r')">onyx</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','n')">henna</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('highlightColor','m')">wolfgrey</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','e')">slyboots</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Amomo-chan" target="_blank">Momo-chan</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','r')">onyx</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','n')">henna</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('highlightColor','m')">wolfgrey</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','o')">sass</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('accentColor','k')">bloodred</a></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Aearnie" target="_blank">Earnie</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('bodyColor','4')">orangesoda</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','4')">birman</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','c')">grim</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','s')">hotrod</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Amisterpurrfect" target="_blank">MisterPurrfect</a></td>

                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeColor','8')">strawberry</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('highlightColor','f')">chocolate</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','3')">wuvme</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('eyeShape','b')">baddate</a></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><a href="https://www.cryptokitties.co/marketplace/sale?search=fancy%3Ayuricatsuki" target="_blank">YuriCatsuki</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('wild','i')">Elk</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('pattern','2')">tiger</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('body','a')">cymric</a></td>
                            <td><a class="button is-link is-small" v-on:click="appendCatAndGene('mouth','s')">neckbeard</a></td>
                            <td></td>
                        </tr>
                    </table>
                </div>

            </div>
        </div>

        <div class="field">
            <label class="label">Traits</label>
            <div class="control">
                <div class="columns is-multiline is-mobile">
                    <div class="column" v-for="label, code in getCodes()">
                        <a class="button is-black is-medium" v-on:click="appendQuery(code)" ><% code %> - <% label %></a>
                    </div>
                </div>
            </div>
        </div>


        <div class="field">
            <label class="label">Query</label>
            <div class="control">
                <input class="input" type="text" placeholder="Ethereum Address" v-model="query">
            </div>
        </div>

        <div class="field is-grouped">
            <div class="control">
                <a class="button is-link" v-bind:href="getUrl()" target="_blank">Search</a>
            </div>
        </div>
    </div>
</section>
{% include "_footer.html.twig" %}

<script type="application/javascript">
    var app = new Vue({
        el: '#app',
        data: {
            categories : {{ categories|raw }},
            query : '',
            category : 'mouth',
            codes : [],
            showFancy : false,
        },
        methods : {
            getUrl : function () {
                return 'http://dna.cryptokittydata.info/search?'+this.query;
            },
            getCodes : function () {
                return this.categories[this.category];
            },
            appendQuery : function (d0) {
                this.query = this.query + '&'+this.category+'=___'+d0;
            },
            appendCatAndGene : function (category, d0) {
                this.query = this.query + '&'+category+'=___'+d0;
            },
            appendRaw : function (thing, value) {
                this.query = this.query + '&'+thing+'='+value;
            },
            toggle : function () {
                this.showFancy = !this.showFancy;
            }
        },
        delimiters : ['<%', '%>']
    })
</script>
</body>
</html>
